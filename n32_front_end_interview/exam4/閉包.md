## 閉包是什麼？



簡單而言就是函數和函數內可被訪問的變量就是閉包。



#### 為什麼間函數和函數內可被訪問的變量就是閉包？

首先要了解清楚閉包不是一個功能。不是被設計出來使用。而是JS函數作用域的副產品。



```js
var local = 'a'
function foo(){
    console.log(local)
}
//函數內部可訪問到變量local，就是閉包
```



#### 閉包的作用？

閉包常用來間接訪問一個變量。又可以說是隱藏一個變量。



例如我們設計一個抽獎遊戲，正在寫剩下幾多次抽獎機會的代碼

如果不利用閉包，通常我們會設定一個全局變量。



```js
window.luckydraw = 10
```



但用全局變量會有問題呀！如別人可直接訪問改了這個全局變量怎麼辦呢？



我們又試試使用局部變量，但局部變量別人不能訪問，又怎麼辦呢？



你可以做一個入口（函數），讓人間接訪問。



```js
!function(){

  var luckydraw = 10

  window.送一次抽獎 = function(){
    luckydraw += 1
  }

  window.用一次抽獎 = function(){
    luckydraw -= 1
  }

}()
// 函數內引用luckydraw這個變量就是閉包呀！
// 為什麼變量要放在另一個函數裡？不放的就是局部變量呀！
```



就這樣吧。